(this["webpackJsonptshakki-ai"]=this["webpackJsonptshakki-ai"]||[]).push([[0],{11:function(e,r,n){e.exports=n(38)},16:function(e,r,n){},38:function(e,r,n){"use strict";n.r(r);var a=n(0),t=n.n(a),u=n(8),l=n.n(u),c=(n(16),n(3)),i=n(7),b=n(4),s=n(10),k=n.n(s),f=n(1),x=n.n(f),o=function(e){for(var r=new Array(e.length),n=0;n<e.length;n++){for(var a=new Array(e[n].length),t=0;t<e[n].length;t++)a[t]=e[n][t];r[n]=a}return r},v=function(e){var r,n=0,a=Object(c.a)(e);try{for(a.s();!(r=a.n()).done;){var t,u=r.value,l=Object(c.a)(u);try{for(l.s();!(t=l.n()).done;){var i=t.value;"KUNINGAS"===(null===i||void 0===i?void 0:i.tyyppi)&&n++}}catch(b){l.e(b)}finally{l.f()}}}catch(b){a.e(b)}finally{a.f()}return 2!==n},p=function(e,r,n,a,t){if(n<0||a<0||n>7||a>7)return!1;var u=e[n][a];if((null===u||void 0===u?void 0:u.v\u00e4ri)===r)return!1;var l="MUSTA"===r?"VALKOINEN":"MUSTA";return("SY\xd6D\xc4"!==t||(null===u||void 0===u?void 0:u.v\u00e4ri)===l)&&("LIIKKUA"!==t||!u)},A={KUNINGAS:x.a.mark((function e(r,n,a,t){var u;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=null,!p(r,n.v\u00e4ri,a-1,t)){e.next=7;break}return(u=o(r))[a][t]=null,u[a-1][t]=n,e.next=7,u;case 7:if(!p(r,n.v\u00e4ri,a,t-1)){e.next=13;break}return(u=o(r))[a][t]=null,u[a][t-1]=n,e.next=13,u;case 13:if(!p(r,n.v\u00e4ri,a+1,t)){e.next=19;break}return(u=o(r))[a][t]=null,u[a+1][t]=n,e.next=19,u;case 19:if(!p(r,n.v\u00e4ri,a,t+1)){e.next=25;break}return(u=o(r))[a][t]=null,u[a][t+1]=n,e.next=25,u;case 25:case"end":return e.stop()}}),e)})),SOTILAS:x.a.mark((function e(r,n,a,t){var u;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=null,"VALKOINEN"!==n.v\u00e4ri){e.next=29;break}if(!p(r,n.v\u00e4ri,a+1,t,"LIIKKUA")){e.next=8;break}return(u=o(r))[a][t]=null,u[a+1][t]=n,e.next=8,u;case 8:if(!p(r,n.v\u00e4ri,a+1,t-1,"SY\xd6D\xc4")){e.next=14;break}return(u=o(r))[a][t]=null,u[a+1][t-1]=n,e.next=14,u;case 14:if(!p(r,n.v\u00e4ri,a+1,t+1,"SY\xd6D\xc4")){e.next=20;break}return(u=o(r))[a][t]=null,u[a+1][t+1]=n,e.next=20,u;case 20:if(1!==a){e.next=27;break}if(!p(r,n.v\u00e4ri,a+2,t,"LIIKKUA")){e.next=27;break}return(u=o(r))[a][t]=null,u[a+2][t]=n,e.next=27,u;case 27:e.next=54;break;case 29:if(!p(r,n.v\u00e4ri,a-1,t,"LIIKKUA")){e.next=35;break}return(u=o(r))[a][t]=null,u[a-1][t]=n,e.next=35,u;case 35:if(!p(r,n.v\u00e4ri,a-1,t-1,"SY\xd6D\xc4")){e.next=41;break}return(u=o(r))[a][t]=null,u[a-1][t-1]=n,e.next=41,u;case 41:if(!p(r,n.v\u00e4ri,a-1,t+1,"SY\xd6D\xc4")){e.next=47;break}return(u=o(r))[a][t]=null,u[a-1][t+1]=n,e.next=47,u;case 47:if(6!==a){e.next=54;break}if(!p(r,n.v\u00e4ri,a-2,t,"LIIKKUA")){e.next=54;break}return(u=o(r))[a][t]=null,u[a-2][t]=n,e.next=54,u;case 54:case"end":return e.stop()}}),e)})),RATSU:x.a.mark((function e(r,n,a,t){var u,l,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=null,l=-2;case 2:if(!(l<=2)){e.next=19;break}c=-2;case 4:if(!(c<=2)){e.next=16;break}if(0!==l&&0!==c&&Math.abs(l)!==Math.abs(c)){e.next=7;break}return e.abrupt("continue",13);case 7:if(!p(r,n.v\u00e4ri,a+l,t+c)){e.next=13;break}return(u=o(r))[a][t]=null,u[a+l][t+c]=n,e.next=13,u;case 13:c++,e.next=4;break;case 16:l++,e.next=2;break;case 19:case"end":return e.stop()}}),e)})),KUNINGATAR:x.a.mark((function e(r,n,a,t){var u,l,c,i,b,s,k;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=null,l=a+1;case 2:if(!(l<8)){e.next=18;break}if(!p(r,n.v\u00e4ri,l,t)){e.next=14;break}return(u=o(r))[a][t]=null,u[l][t]=n,e.next=10,u;case 10:if(!r[l][t]){e.next=12;break}return e.abrupt("break",18);case 12:e.next=15;break;case 14:return e.abrupt("break",18);case 15:l++,e.next=2;break;case 18:c=a-1;case 19:if(!(c>=0)){e.next=35;break}if(!p(r,n.v\u00e4ri,c,t)){e.next=31;break}return(u=o(r))[a][t]=null,u[c][t]=n,e.next=27,u;case 27:if(!r[c][t]){e.next=29;break}return e.abrupt("break",35);case 29:e.next=32;break;case 31:return e.abrupt("break",35);case 32:c--,e.next=19;break;case 35:i=t+1;case 36:if(!(i<8)){e.next=52;break}if(!p(r,n.v\u00e4ri,a,i)){e.next=48;break}return(u=o(r))[a][t]=null,u[a][i]=n,e.next=44,u;case 44:if(!r[a][i]){e.next=46;break}return e.abrupt("break",52);case 46:e.next=49;break;case 48:return e.abrupt("break",52);case 49:i++,e.next=36;break;case 52:b=t-1;case 53:if(!(b>=0)){e.next=69;break}if(!p(r,n.v\u00e4ri,a,b)){e.next=65;break}return(u=o(r))[a][t]=null,u[a][b]=n,e.next=61,u;case 61:if(!r[a][b]){e.next=63;break}return e.abrupt("break",69);case 63:e.next=66;break;case 65:return e.abrupt("break",69);case 66:b--,e.next=53;break;case 69:s=a,k=t;case 71:if(s++,k++,!p(r,n.v\u00e4ri,s,k)){e.next=84;break}return(u=o(r))[a][t]=null,u[s][k]=n,e.next=80,u;case 80:if(!r[s][k]){e.next=82;break}return e.abrupt("break",87);case 82:e.next=85;break;case 84:return e.abrupt("break",87);case 85:e.next=71;break;case 87:s=a,k=t;case 89:if(s++,k--,!p(r,n.v\u00e4ri,s,k)){e.next=102;break}return(u=o(r))[a][t]=null,u[s][k]=n,e.next=98,u;case 98:if(!r[s][k]){e.next=100;break}return e.abrupt("break",105);case 100:e.next=103;break;case 102:return e.abrupt("break",105);case 103:e.next=89;break;case 105:s=a,k=t;case 107:if(s--,k++,!p(r,n.v\u00e4ri,s,k)){e.next=120;break}return(u=o(r))[a][t]=null,u[s][k]=n,e.next=116,u;case 116:if(!r[s][k]){e.next=118;break}return e.abrupt("break",123);case 118:e.next=121;break;case 120:return e.abrupt("break",123);case 121:e.next=107;break;case 123:s=a,k=t;case 125:if(s--,k--,!p(r,n.v\u00e4ri,s,k)){e.next=138;break}return(u=o(r))[a][t]=null,u[s][k]=n,e.next=134,u;case 134:if(!r[s][k]){e.next=136;break}return e.abrupt("break",141);case 136:e.next=139;break;case 138:return e.abrupt("break",141);case 139:e.next=125;break;case 141:case"end":return e.stop()}}),e)})),TORNI:x.a.mark((function e(r,n,a,t){var u,l,c,i,b;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=null,l=a+1;case 2:if(!(l<8)){e.next=18;break}if(!p(r,n.v\u00e4ri,l,t)){e.next=14;break}return(u=o(r))[a][t]=null,u[l][t]=n,e.next=10,u;case 10:if(!r[l][t]){e.next=12;break}return e.abrupt("break",18);case 12:e.next=15;break;case 14:return e.abrupt("break",18);case 15:l++,e.next=2;break;case 18:c=a-1;case 19:if(!(c>=0)){e.next=35;break}if(!p(r,n.v\u00e4ri,c,t)){e.next=31;break}return(u=o(r))[a][t]=null,u[c][t]=n,e.next=27,u;case 27:if(!r[c][t]){e.next=29;break}return e.abrupt("break",35);case 29:e.next=32;break;case 31:return e.abrupt("break",35);case 32:c--,e.next=19;break;case 35:i=t+1;case 36:if(!(i<8)){e.next=52;break}if(!p(r,n.v\u00e4ri,a,i)){e.next=48;break}return(u=o(r))[a][t]=null,u[a][i]=n,e.next=44,u;case 44:if(!r[a][i]){e.next=46;break}return e.abrupt("break",52);case 46:e.next=49;break;case 48:return e.abrupt("break",52);case 49:i++,e.next=36;break;case 52:b=t-1;case 53:if(!(b>=0)){e.next=69;break}if(!p(r,n.v\u00e4ri,a,b)){e.next=65;break}return(u=o(r))[a][t]=null,u[a][b]=n,e.next=61,u;case 61:if(!r[a][b]){e.next=63;break}return e.abrupt("break",69);case 63:e.next=66;break;case 65:return e.abrupt("break",69);case 66:b--,e.next=53;break;case 69:case"end":return e.stop()}}),e)})),"L\xc4HETTI":x.a.mark((function e(r,n,a,t){var u,l,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=null,l=a,c=t;case 3:if(l++,c++,!p(r,n.v\u00e4ri,l,c)){e.next=16;break}return(u=o(r))[a][t]=null,u[l][c]=n,e.next=12,u;case 12:if(!r[l][c]){e.next=14;break}return e.abrupt("break",19);case 14:e.next=17;break;case 16:return e.abrupt("break",19);case 17:e.next=3;break;case 19:l=a,c=t;case 21:if(l++,c--,!p(r,n.v\u00e4ri,l,c)){e.next=34;break}return(u=o(r))[a][t]=null,u[l][c]=n,e.next=30,u;case 30:if(!r[l][c]){e.next=32;break}return e.abrupt("break",37);case 32:e.next=35;break;case 34:return e.abrupt("break",37);case 35:e.next=21;break;case 37:l=a,c=t;case 39:if(l--,c++,!p(r,n.v\u00e4ri,l,c)){e.next=52;break}return(u=o(r))[a][t]=null,u[l][c]=n,e.next=48,u;case 48:if(!r[l][c]){e.next=50;break}return e.abrupt("break",55);case 50:e.next=53;break;case 52:return e.abrupt("break",55);case 53:e.next=39;break;case 55:l=a,c=t;case 57:if(l--,c--,!p(r,n.v\u00e4ri,l,c)){e.next=70;break}return(u=o(r))[a][t]=null,u[l][c]=n,e.next=66,u;case 66:if(!r[l][c]){e.next=68;break}return e.abrupt("break",73);case 68:e.next=71;break;case 70:return e.abrupt("break",73);case 71:e.next=57;break;case 73:case"end":return e.stop()}}),e)}))},N={SOTILAS:1,RATSU:3,"L\xc4HETTI":3.5,TORNI:5,KUNINGATAR:9,KUNINGAS:99999999999},I=function(e){for(var r=0,n=0;n<8;n++)for(var a=0;a<8;a++){var t=e[n][a];t&&("MUSTA"===t.v\u00e4ri?r+=N[t.tyyppi]:r-=N[t.tyyppi])}return r},d=function(e,r,n,a){return Object(i.a)(A[r.tyyppi](e,r,n,a))},h=function e(r,n,a,t){var u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"MUSTA";if(0===n||v(r))return[I(r),r];if("MUSTA"===u){for(var l=-1/0,i=r,s=0;s<8;s++)for(var k=0;k<8;k++){var f=r[s][k];if(f&&"MUSTA"===f.v\u00e4ri){var x,o=Object(c.a)(d(r,f,s,k));try{for(o.s();!(x=o.n()).done;){var p=x.value,A=e(p,n-1,a,t,"VALKOINEN"),N=Object(b.a)(A,1),h=N[0];if(h>l&&(l=h,i=p),t<=(a=Math.max(a,h)))break}}catch(g){o.e(g)}finally{o.f()}}}return[l,i]}for(var S=1/0,T=r,m=0;m<8;m++)for(var O=0;O<8;O++){var y=r[m][O];if(y&&"VALKOINEN"===y.v\u00e4ri){var U,K=Object(c.a)(d(r,y,m,O));try{for(K.s();!(U=K.n()).done;){var E=U.value,w=e(E,n-1,a,t,"MUSTA"),L=Object(b.a)(w,1),j=L[0];if(j<S&&(S=j,T=E),(t=Math.min(t,j))<=a)break}}catch(g){K.e(g)}finally{K.f()}}}return[S,T]},S={p:"SOTILAS",P:"SOTILAS",n:"RATSU",N:"RATSU",B:"L\xc4HETTI",b:"L\xc4HETTI",R:"TORNI",r:"TORNI",Q:"KUNINGATAR",q:"KUNINGATAR",K:"KUNINGAS",k:"KUNINGAS"},T={SOTILAS:"p",RATSU:"n","L\xc4HETTI":"b",TORNI:"r",KUNINGATAR:"q",KUNINGAS:"k"},m={a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},O=["a","b","c","d","e","f","g","h"],y=function(){var e=Object(a.useState)(["R@a1","P@a2","p@a7","r@a8","N@b1","P@b2","p@b7","n@b8","B@c1","P@c2","p@c7","b@c8","Q@d1","P@d2","p@d7","q@d8","K@e1","P@e2","p@e7","k@e8","B@f1","P@f2","p@f7","b@f8","N@g1","P@g2","p@g7","n@g8","R@h1","P@h2","p@h7","r@h8"]),r=Object(b.a)(e,2),n=r[0],u=r[1],l=Object(a.useState)(null),s=Object(b.a)(l,2),f=s[0],x=s[1],o=Object(a.useState)(3),p=Object(b.a)(o,2),A=p[0],N=p[1];return t.a.createElement("div",{style:{maxWidth:"48rem",margin:"auto"}},t.a.createElement(k.a,{pieces:n,onMovePiece:function(e,r,a){var t,l=Object(i.a)(n).filter((function(e){return e.split("@")[1]!==a})).map((function(e){return e.split("@")[1]===r?"".concat(e.split("@")[0],"@").concat(a):e})),s=[[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null]],k=Object(c.a)(l);try{for(k.s();!(t=k.n()).done;){var f=t.value,o={"v\xe4ri":f===f.toLowerCase()?"MUSTA":"VALKOINEN",tyyppi:S[f.charAt(0)]};s[parseInt(f.charAt(3))-1][m[f.charAt(2)]]=o}}catch(M){k.e(M)}finally{k.f()}var p,N=[],I=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return h(e,r,-1/0,1/0,"MUSTA")[1]}(s,A),d=Object(c.a)(I.entries());try{for(d.s();!(p=d.n()).done;){var y,U=Object(b.a)(p.value,2),K=U[0],E=U[1],w=Object(c.a)(E.entries());try{for(w.s();!(y=w.n()).done;){var L=Object(b.a)(y.value,2),j=L[0],g=L[1];if(g){var R=T[g.tyyppi];"VALKOINEN"===g.v\u00e4ri&&(R=R.toUpperCase()),N.push("".concat(R,"@").concat(O[j]).concat(K+1))}}}catch(M){w.e(M)}finally{w.f()}}}catch(M){d.e(M)}finally{d.f()}(x(n),u(N),v(I))&&(window.confirm("Peli loppui. Aloita uusi peli valitsemalla 'OK' tai jatka valitsemalla 'Cancel'.")&&window.location.reload())},onDragStart:function(e){return e.notation.split("@")[0]===e.notation.split("@")[0].toUpperCase()}}),t.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},t.a.createElement("div",null,f?t.a.createElement("button",{className:"big-button",onClick:function(){u(f),x(null)}},"Hups \ud83d\udd19"):t.a.createElement("div",null)),t.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},t.a.createElement("button",{onClick:function(){return N(1)},className:"big-button".concat(1===A?" active":"")},"Helppo \ud83e\udd71"),t.a.createElement("button",{onClick:function(){return N(2)},className:"big-button".concat(2===A?" active":"")},"Normaali \ud83d\ude10"),t.a.createElement("button",{onClick:function(){return N(3)},className:"big-button".concat(3===A?" active":"")},"Haastava \ud83d\ude13"),t.a.createElement("button",{onClick:function(){return N(4)},className:"big-button".concat(4===A?" active":"")},"Vaikea \ud83d\ude20"))))};l.a.render(t.a.createElement(y,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.387c1bbe.chunk.js.map